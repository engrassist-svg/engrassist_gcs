<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="viewport-meta">
    <meta name="google-adsense-account" content="ca-pub-2370605571916318">
    <title>Professional Ductulator - EngrAssist</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="header.html" as="fetch" crossorigin>
    <link rel="preload" href="footer.html" as="fetch" crossorigin>
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="scripts.js" as="script">
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="https://www.engrassist.com/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- JavaScript -->
    <script src="scripts.js" defer></script>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="page-loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1 class="hero-title">Professional Ductulator</h1>
            <p class="hero-subtitle">Advanced HVAC duct design calculator for friction loss, sizing, and airflow calculations. Built with professional engineering standards and comprehensive material properties.</p>
        </div>
    </section>

    <!-- Main Content -->
    <main>
        <section class="content-section">
            <div class="container">
                <h2 class="section-title">Duct Design Calculator</h2>
                
                <div class="ductulator-grid">
                    <!-- Input Panel -->
                    <div class="input-panel">
                        <h3 class="subsection-title">Calculation Options</h3>
                        
                        <div class="form-group">
                            <label for="calculation-type">Calculation Type</label>
                            <select id="calculation-type" onchange="updateInputFields()">
                                <option value="friction-loss">Calculate Friction Loss</option>
                                <option value="airflow-rate">Determine Airflow Rate for Given Size and Friction</option>
                                <option value="size-velocity-friction">Determine Sizes for Given Velocity and Friction Rate</option>
                                <option value="size-velocity">Determine Sizes for Given Velocity</option>
                                <option value="size-friction">Determine Sizes for Given Friction Rate</option>
                                <option value="convert-shape">Convert Duct Shape or Size to Another</option>
                            </select>
                        </div>

                        <h3 class="subsection-title">Design Conditions</h3>
                        
                        <div class="form-group">
                            <label>Standard Conditions</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="std-yes" name="standard-conditions" value="yes" checked onchange="toggleAdvancedConditions()">
                                    <label for="std-yes">Yes</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="std-no" name="standard-conditions" value="no" onchange="toggleAdvancedConditions()">
                                    <label for="std-no">No</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <label for="duct-material">Duct Material</label>
                                <select id="duct-material" onchange="updateRoughness()">
                                    <option value="0.00015">PVC Pipe</option>
                                    <option value="0.00015">Commercial Steel</option>
                                    <option value="0.0002">Aluminum Duct, Round</option>
                                    <option value="0.00032">Galvanized Steel, Round, Longitudinal Seams</option>
                                    <option value="0.0004">Galvanized Steel, Round, Spiral</option>
                                    <option value="0.0005" selected>Galvanized Steel, Rectangular</option>
                                    <option value="0.003">Flexible Duct, Fabric and Wire, Uncompressed</option>
                                    <option value="0.003">Galvanized Steel, Round, Spiral, Corrugated</option>
                                    <option value="0.003">Fibrous Glass Duct, Rigid</option>
                                    <option value="0.005">Duct Liner, Fibrous Glass, Air Side w Facing</option>
                                    <option value="0.01">Concrete</option>
                                    <option value="0.015">Duct Liner, Fibrous Glass, Spray Coated</option>
                                </select>
                            </div>
                            <div class="form-col">
                                <label for="duct-roughness">Duct Roughness <span class="unit-display">(ft)</span></label>
                                <input type="number" id="duct-roughness" step="0.000001" value="0.0005" readonly>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <label for="original-shape">Original Duct Shape</label>
                                <select id="original-shape" onchange="updateShapeFields()">
                                    <option value="rectangular" selected>Rectangular</option>
                                    <option value="round">Round</option>
                                    <option value="oval">Oval</option>
                                </select>
                            </div>
                        </div>

                        <!-- Dynamic input fields -->
                        <div id="dynamic-inputs">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="airflow">Airflow <span class="unit-display">(CFM)</span></label>
                                    <input type="number" id="airflow" min="0" step="1" required>
                                </div>
                                <div class="form-col">
                                    <label for="width">Width <span class="unit-display">(in)</span></label>
                                    <input type="number" id="width" min="0" step="0.1" required>
                                </div>
                                <div class="form-col">
                                    <label for="height">Height <span class="unit-display">(in)</span></label>
                                    <input type="number" id="height" min="0" step="0.1" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <label>Unit System</label>
                                <div class="radio-group">
                                    <div class="radio-item">
                                        <input type="radio" id="imperial" name="unit-system" value="imperial" checked onchange="updateUnitSystem()">
                                        <label for="imperial">Imperial</label>
                                    </div>
                                    <div class="radio-item">
                                        <input type="radio" id="metric" name="unit-system" value="metric" onchange="updateUnitSystem()">
                                        <label for="metric">Metric</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <label>Duct Length Units</label>
                                <div class="radio-group">
                                    <div class="radio-item">
                                        <input type="radio" id="feet" name="length-units" value="feet" checked>
                                        <label for="feet" id="length-unit-1">Feet</label>
                                    </div>
                                    <div class="radio-item">
